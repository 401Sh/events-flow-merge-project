# Our events backend - NestJS + TypeScript + Axios

## Цель проекта

Разработать бэкенд, который будет агрегировать и предоставлять данные о мероприятиях с двух независимых API: Leader-id и Timepad.

## Задачи

- [X] Получение списка мероприятий
- [ ] Реализовать фильтрацию мероприятий по местоположению пользователя на основе IP
- [ ] Просмотр информации о мероприятии
- [ ] Список посещенных пользователем мероприятий
- [ ] Список мероприятий на которые записался пользователь
- [ ] Вход по OAuth Timepad/Leader-ID

## Технологии

- **TypeScript** - статическая типизация для повышения надежности кода.
- **Class-Validator** - валидация клиентских запросов.
- **NestJS** - обработка маршрутов.
- **@NestJS/Axios** - формирование запросов к API.

## Установка

```bash
npm install
```

## Запуск

Для запуска проекта потребуется создать файл .env в корне каталога и настроить его. Пример конфигурации - example.env файл.

```bash
npm run start
```

После запуска проект будет доступен по адресу {HOST}:{PORT}/api/v1, а Swagger по адресу {HOST}:{PORT}/api/v1/docs

## Структура проекта

```
src/
│
│── auth/               # Модуль аунтентификации и авторизации
│   ├── client-auth/    # Модуль получения токенов доступа к API
│   ├── interfaces/
│   ├── oauth/          # Модуль пользовательской аутентификации
│
│── configs/
│── constants/
│
│── dictionaries/       # Модуль словарей
│   ├── dto/
│   ├── interfaces/
│   ├── repositories/   # Абстракции и реализации запросов dictionaries со сторонних API
│
│── events/             # Модуль мероприятий
│   ├── api-utils/      # Мапперы для приведения events к одному виду
│   ├── dto/
│   ├── enums/
│   ├── interfaces/
│   ├── repositories/   # Абстракции и реализации запросов events со сторонних API
│
│── users/              # Модуль пользователей
.env
tsconfig.json
package.json
```

## Используемые роуты

### Модуль dictionaries

- **GET    /dictionaries/themes/:source**            - Получение списка категорий/тем от источника

### Модуль events

- **GET    /events**                              - Получение общего списка событий от двух источников
- **GET    /events/:source**                      - Получение списка событий от источника
- **GET    /events/:source/:eventId**             - Получение данных о событии от источника (в данный момент работает только для timepad)